<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="700" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="900" height="700" fill="#f8fafc"/>
  
  <!-- Main System Boundary -->
  <rect x="50" y="80" width="800" height="550" fill="none" stroke="#3b82f6" stroke-width="3" stroke-dasharray="10,5" rx="20"/>
  
  <!-- Title -->
  <text x="450" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1e40af">
    GPT-4o Enhanced API Composition System
  </text>
  
  <!-- GPT-4o Neural Network -->
  <rect x="80" y="120" width="160" height="120" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" rx="15"/>
  <text x="160" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#92400e">
    GPT-4o
  </text>
  <text x="160" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#92400e">
    Neural Network
  </text>
  <text x="90" y="195" font-family="Arial, sans-serif" font-size="12" fill="#92400e">• Policy Network</text>
  <text x="90" y="210" font-family="Arial, sans-serif" font-size="12" fill="#92400e">• Value Network</text>
  <text x="90" y="225" font-family="Arial, sans-serif" font-size="12" fill="#92400e">• Semantic Understanding</text>
  
  <!-- MCTS Tree Search -->
  <rect x="300" y="120" width="160" height="120" fill="#fecaca" stroke="#ef4444" stroke-width="2" rx="15"/>
  <text x="380" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#991b1b">
    MCTS
  </text>
  <text x="380" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#991b1b">
    Tree Search
  </text>
  <text x="310" y="195" font-family="Arial, sans-serif" font-size="12" fill="#991b1b">• Selection (UCB1)</text>
  <text x="310" y="210" font-family="Arial, sans-serif" font-size="12" fill="#991b1b">• Expansion</text>
  <text x="310" y="225" font-family="Arial, sans-serif" font-size="12" fill="#991b1b">• Backpropagation</text>
  
  <!-- Evolution Engine -->
  <rect x="520" y="120" width="160" height="120" fill="#fed7aa" stroke="#f97316" stroke-width="2" rx="15"/>
  <text x="600" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#9a3412">
    Evolution
  </text>
  <text x="600" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#9a3412">
    Engine
  </text>
  <text x="530" y="195" font-family="Arial, sans-serif" font-size="12" fill="#9a3412">• Mutation</text>
  <text x="530" y="210" font-family="Arial, sans-serif" font-size="12" fill="#9a3412">• Selection</text>
  <text x="530" y="225" font-family="Arial, sans-serif" font-size="12" fill="#9a3412">• Fitness Evaluation</text>
  
  <!-- Final API Chain -->
  <rect x="740" y="120" width="160" height="120" fill="#bfdbfe" stroke="#3b82f6" stroke-width="2" rx="15"/>
  <text x="820" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e40af">
    Optimized
  </text>
  <text x="820" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e40af">
    API Chain
  </text>
  <text x="750" y="195" font-family="Arial, sans-serif" font-size="12" fill="#1e40af">• Type Compatible</text>
  <text x="750" y="210" font-family="Arial, sans-serif" font-size="12" fill="#1e40af">• Goal Aligned</text>
  <text x="750" y="225" font-family="Arial, sans-serif" font-size="12" fill="#1e40af">• High Performance</text>
  
  <!-- API Bank -->
  <rect x="300" y="300" width="160" height="100" fill="#e9d5ff" stroke="#8b5cf6" stroke-width="2" rx="15"/>
  <text x="380" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#6b21a8">
    API Bank
  </text>
  <text x="310" y="355" font-family="Arial, sans-serif" font-size="12" fill="#6b21a8">• 25+ APIs</text>
  <text x="310" y="370" font-family="Arial, sans-serif" font-size="12" fill="#6b21a8">• Type System</text>
  <text x="310" y="385" font-family="Arial, sans-serif" font-size="12" fill="#6b21a8">• Compatibility Graph</text>
  
  <!-- Candidate Chains -->
  <rect x="520" y="300" width="160" height="100" fill="#d1fae5" stroke="#10b981" stroke-width="2" rx="15"/>
  <text x="600" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#047857">
    Candidate
  </text>
  <text x="600" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#047857">
    Chains
  </text>
  <text x="530" y="375" font-family="Arial, sans-serif" font-size="12" fill="#047857">• Population</text>
  <text x="530" y="390" font-family="Arial, sans-serif" font-size="12" fill="#047857">• Fitness Scores</text>
  
  <!-- Frontend UI -->
  <rect x="80" y="480" width="160" height="100" fill="#fef7cd" stroke="#eab308" stroke-width="2" rx="15"/>
  <text x="160" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#a16207">
    React Frontend
  </text>
  <text x="90" y="535" font-family="Arial, sans-serif" font-size="12" fill="#a16207">• Real-time Visualization</text>
  <text x="90" y="550" font-family="Arial, sans-serif" font-size="12" fill="#a16207">• MCTS Tree Display</text>
  <text x="90" y="565" font-family="Arial, sans-serif" font-size="12" fill="#a16207">• Evolution Progress</text>
  
  <!-- WebSocket -->
  <rect x="300" y="480" width="160" height="100" fill="#f3e8ff" stroke="#a855f7" stroke-width="2" rx="15"/>
  <text x="380" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#7c2d12">
    WebSocket
  </text>
  <text x="380" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#7c2d12">
    Communication
  </text>
  <text x="310" y="555" font-family="Arial, sans-serif" font-size="12" fill="#7c2d12">• Real-time Updates</text>
  <text x="310" y="570" font-family="Arial, sans-serif" font-size="12" fill="#7c2d12">• Bidirectional</text>
  
  <!-- FastAPI Backend -->
  <rect x="520" y="480" width="160" height="100" fill="#dcfce7" stroke="#22c55e" stroke-width="2" rx="15"/>
  <text x="600" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#15803d">
    FastAPI
  </text>
  <text x="600" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#15803d">
    Backend
  </text>
  <text x="530" y="555" font-family="Arial, sans-serif" font-size="12" fill="#15803d">• Session Management</text>
  <text x="530" y="570" font-family="Arial, sans-serif" font-size="12" fill="#15803d">• API Orchestration</text>
  
  <!-- Arrows -->
  <!-- GPT-4o to MCTS -->
  <path d="M 240 180 L 300 180" fill="none" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="270" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">guidance</text>
  
  <!-- MCTS to Evolution -->
  <path d="M 460 180 L 520 180" fill="none" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="490" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">candidates</text>
  
  <!-- Evolution to Final -->
  <path d="M 680 180 L 740 180" fill="none" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="710" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">optimized</text>
  
  <!-- API Bank to MCTS -->
  <path d="M 380 300 L 380 240" fill="none" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="395" y="270" font-family="Arial, sans-serif" font-size="10" fill="#374151">APIs</text>
  
  <!-- Evolution to Candidates -->
  <path d="M 600 240 L 600 300" fill="none" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="615" y="270" font-family="Arial, sans-serif" font-size="10" fill="#374151">population</text>
  
  <!-- Candidates feedback to Evolution -->
  <path d="M 520 350 L 480 350 Q 470 350 470 340 L 470 320 Q 470 310 480 310 L 520 310" fill="none" stroke="#374151" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>
  <text x="445" y="335" font-family="Arial, sans-serif" font-size="10" fill="#374151">feedback</text>
  
  <!-- Frontend to WebSocket -->
  <path d="M 240 530 L 300 530" fill="none" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- WebSocket to Backend -->
  <path d="M 460 530 L 520 530" fill="none" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Backend to MCTS (control) -->
  <path d="M 600 480 L 600 420 Q 600 410 590 410 L 390 410 Q 380 410 380 400 L 380 240" fill="none" stroke="#374151" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>
  <text x="500" y="425" font-family="Arial, sans-serif" font-size="10" fill="#374151">control</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>
  
  <!-- Data Flow Legend -->
  <rect x="740" y="300" width="120" height="80" fill="#f8fafc" stroke="#6b7280" stroke-width="1" rx="5"/>
  <text x="800" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Data Flow</text>
  <line x1="750" y1="330" x2="770" y2="330" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="775" y="335" font-family="Arial, sans-serif" font-size="10" fill="#374151">Direct</text>
  <line x1="750" y1="345" x2="770" y2="345" stroke="#374151" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>
  <text x="775" y="350" font-family="Arial, sans-serif" font-size="10" fill="#374151">Control</text>
  <line x1="750" y1="360" x2="770" y2="360" stroke="#374151" stroke-width="2" stroke-dasharray="3,3"/>
  <text x="775" y="365" font-family="Arial, sans-serif" font-size="10" fill="#374151">Feedback</text>
  
  <!-- Process Flow Numbers -->
  <circle cx="270" cy="160" r="12" fill="#ef4444" stroke="#fff" stroke-width="2"/>
  <text x="270" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">1</text>
  
  <circle cx="490" cy="160" r="12" fill="#ef4444" stroke="#fff" stroke-width="2"/>
  <text x="490" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">2</text>
  
  <circle cx="710" cy="160" r="12" fill="#ef4444" stroke="#fff" stroke-width="2"/>
  <text x="710" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">3</text>
</svg>